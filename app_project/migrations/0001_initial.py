# Generated by Django 6.0.1 on 2026-01-21 08:37

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Project',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='é¡¹ç›®åç§°')),
                ('description', models.TextField(blank=True, verbose_name='é¡¹ç›®æè¿°')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='åˆ›å»ºæ—¶é—´')),
                ('current_stage', models.CharField(choices=[('INIT', 'â‘  é¡¹ç›®ç«‹é¡¹'), ('COLLECT', 'â‘¡ æ”¶é›†èµ„æ–™'), ('FEASIBILITY', 'â‘¢ å¯è¡Œæ€§è¯„ä¼°'), ('PRICING', 'â‘£ å®¢æˆ·å®šä»·'), ('RND', 'â‘¤ ç ”å‘é˜¶æ®µ'), ('PILOT', 'â‘¥ å®¢æˆ·å°è¯•'), ('MID_TEST', 'â‘¦ å®¢æˆ·ä¸­è¯•'), ('MASS_PROD', 'â‘§ å®¢æˆ·é‡äº§æ„å‘'), ('ORDER', 'â‘¨ å®¢æˆ·ä¸‹å•æƒ…å†µ'), ('FEEDBACK', 'ğŸ—ï¸å®¢æˆ·æ„è§')], default='INIT', max_length=20, verbose_name='å½“å‰é˜¶æ®µ')),
                ('progress_percent', models.PositiveIntegerField(default=0, verbose_name='è¿›åº¦ç™¾åˆ†æ¯”')),
                ('is_terminated', models.BooleanField(default=False, verbose_name='æ˜¯å¦ç»ˆæ­¢')),
                ('latest_remark', models.CharField(blank=True, help_text='è‡ªåŠ¨åŒæ­¥å½“å‰æ´»è·ƒèŠ‚ç‚¹çš„å¤‡æ³¨', max_length=200, verbose_name='æœ€æ–°è¿›å±•')),
                ('manager', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='é¡¹ç›®è´Ÿè´£äºº')),
            ],
            options={
                'verbose_name': 'é¡¹ç›®',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ProjectNode',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('stage', models.CharField(choices=[('INIT', 'â‘  é¡¹ç›®ç«‹é¡¹'), ('COLLECT', 'â‘¡ æ”¶é›†èµ„æ–™'), ('FEASIBILITY', 'â‘¢ å¯è¡Œæ€§è¯„ä¼°'), ('PRICING', 'â‘£ å®¢æˆ·å®šä»·'), ('RND', 'â‘¤ ç ”å‘é˜¶æ®µ'), ('PILOT', 'â‘¥ å®¢æˆ·å°è¯•'), ('MID_TEST', 'â‘¦ å®¢æˆ·ä¸­è¯•'), ('MASS_PROD', 'â‘§ å®¢æˆ·é‡äº§æ„å‘'), ('ORDER', 'â‘¨ å®¢æˆ·ä¸‹å•æƒ…å†µ'), ('FEEDBACK', 'ğŸ—ï¸å®¢æˆ·æ„è§')], max_length=20, verbose_name='é˜¶æ®µ')),
                ('round', models.PositiveIntegerField(default=1, verbose_name='è½®æ¬¡')),
                ('order', models.IntegerField(default=0, verbose_name='æ’åºæƒé‡')),
                ('status', models.CharField(choices=[('PENDING', 'æœªå¼€å§‹'), ('DOING', 'è¿›è¡Œä¸­'), ('DONE', 'å·²å®Œæˆ'), ('FEEDBACK', 'å®¢æˆ·æ„è§'), ('FAILED', 'å¼‚å¸¸/èŠ‚ç‚¹è¿­ä»£'), ('TERMINATED', 'å·²ç»ˆæ­¢')], default='PENDING', max_length=10, verbose_name='çŠ¶æ€')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='æ›´æ–°æ—¶é—´')),
                ('remark', models.TextField(blank=True, null=True, verbose_name='å¤‡æ³¨/æ‰¹æ³¨')),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='nodes', to='app_project.project')),
            ],
            options={
                'verbose_name': 'é¡¹ç›®è¿›åº¦èŠ‚ç‚¹',
                'ordering': ['order'],
            },
        ),
        migrations.AddIndex(
            model_name='project',
            index=models.Index(fields=['-created_at'], name='app_project_created_4b85b8_idx'),
        ),
        migrations.AddIndex(
            model_name='project',
            index=models.Index(fields=['current_stage'], name='app_project_current_e15300_idx'),
        ),
        migrations.AddIndex(
            model_name='project',
            index=models.Index(fields=['manager'], name='app_project_manager_e7cc10_idx'),
        ),
        migrations.AddIndex(
            model_name='project',
            index=models.Index(fields=['name'], name='app_project_name_3ad84d_idx'),
        ),
    ]
