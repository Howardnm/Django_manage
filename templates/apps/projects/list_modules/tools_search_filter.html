<div class="card-body border-bottom py-3">
    <form method="GET" class="d-flex flex-wrap align-items-center gap-2">

        {% for field in filter.form %}
            <!-- 1. 隐藏字段直接渲染 -->
            {% if field.is_hidden %}
                {{ field }}

                <!-- 2. 搜索框：带图标 -->
            {% elif field.name == 'q' %}
                <div class="d-inline-block">
                    <div class="input-icon">
                        <span class="input-icon-addon">
                            <!-- 【修改】替换为 Class 写法 -->
                            <i class="ti ti-search"></i>
                        </span>
                        {{ field }}
                    </div>
                </div>

                <!-- 3. 其他字段 -->
            {% else %}
                <div class="d-inline-block">
                    {{ field }}
                </div>
            {% endif %}
        {% endfor %}

        <div class="ms-auto">
            <!-- 查询按钮图标 -->
            <button type="submit" class="btn btn-primary btn-icon" aria-label="Search">
                <!-- 【修改】替换为 Class 写法 -->
                <i class="ti ti-search"></i>
            </button>

            {% if request.GET.q or request.GET.manager %}
                <a href="{% url 'project_list' %}" class="btn btn-ghost-danger ms-2">重置</a>
            {% endif %}
        </div>
    </form>
</div>